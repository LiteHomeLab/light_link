# LightLink æœåŠ¡ç®¡ç†å¹³å°è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

LightLink æœåŠ¡ç®¡ç†å¹³å°æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ Web æ§åˆ¶å°ï¼Œç”¨äºç®¡ç†ã€ç›‘æ§å’Œè°ƒè¯•åŸºäº NATS çš„å¾®æœåŠ¡ã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **æœåŠ¡æ³¨å†Œç›®å½•** - æŸ¥çœ‹æ‰€æœ‰å·²æ³¨å†Œçš„æœåŠ¡
2. **æ–¹æ³•ç›®å½•** - æ¯ä¸ªæœåŠ¡æä¾›çš„ RPC æ–¹æ³•åˆ—è¡¨
3. **æ–¹æ³•å…ƒæ•°æ®** - å‚æ•°è¯´æ˜ã€è¿”å›å€¼ç±»å‹ã€ç¤ºä¾‹ä»£ç 
4. **åœ¨çº¿è°ƒè¯•** - è¾“å…¥å‚æ•°ã€æ‰§è¡Œè°ƒç”¨ã€æŸ¥çœ‹è¾“å‡º
5. **æœåŠ¡ç›‘æ§** - åœ¨çº¿çŠ¶æ€ã€å¯ç”¨æ€§æ£€æµ‹
6. **ç”Ÿå‘½å‘¨æœŸè¿½è¸ª** - æœåŠ¡ä¸Šçº¿/ä¸‹çº¿äº‹ä»¶

---

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LightLink Web Console                     â”‚
â”‚                  (Vue 3 + Element Plus)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡åˆ—è¡¨  â”‚  æ–¹æ³•ç›®å½•  â”‚  è°ƒè¯•æ§åˆ¶å°  â”‚  ç›‘æ§é¢æ¿  â”‚  äº‹ä»¶æµ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼ WebSocket + REST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Web Console Backend (Go)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ REST API          â€¢ WebSocket Hub    â€¢ JWT è®¤è¯           â”‚
â”‚  â€¢ RPC è°ƒç”¨ä»£ç†       â€¢ SQLite å­˜å‚¨å±‚    â€¢ äº‹ä»¶æ¨é€           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Service Manager (æ–°å¢ç»„ä»¶)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ å…ƒæ•°æ®æ³¨å†Œ API    â€¢ æœåŠ¡å‘ç°         â€¢ å¥åº·æ£€æŸ¥            â”‚
â”‚  â€¢ äº‹ä»¶è®¢é˜…          â€¢ çŠ¶æ€èšåˆ         â€¢ NATS äº‹ä»¶é€šçŸ¥       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ SQLite  â”‚           â”‚  NATS   â”‚
              â”‚ æŒä¹…åŒ–å­˜å‚¨ â”‚           â”‚ æ¶ˆæ¯é˜Ÿåˆ— â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ•°æ®æµè½¬ï¼š**
- **NATS**: æœåŠ¡æ³¨å†Œ/å¿ƒè·³æ¶ˆæ¯ â†’ Service Manager è®¢é˜…å¤„ç† â†’ å†™å…¥ SQLite
- **SQLite**: å…ƒæ•°æ®ã€çŠ¶æ€ã€äº‹ä»¶ã€è°ƒç”¨å†å²æŒä¹…åŒ–
- **Web æŸ¥è¯¢**: ä» SQLite è¯»å–æ•°æ®ï¼Œè¿”å›ç»™å‰ç«¯
- **å®æ—¶æ¨é€**: Service Manager ç›‘å¬ NATS äº‹ä»¶ â†’ é€šè¿‡ WebSocket æ¨é€ç»™å‰ç«¯

---

## æ•°æ®æ¨¡å‹

### æœåŠ¡å…ƒæ•°æ®

```go
// ServiceMetadata æœåŠ¡å…ƒæ•°æ®
type ServiceMetadata struct {
    Name        string           `json:"name"`        // æœåŠ¡åç§°
    Version     string           `json:"version"`     // æœåŠ¡ç‰ˆæœ¬
    Description string           `json:"description"` // æœåŠ¡æè¿°
    Author      string           `json:"author"`      // ä½œè€…
    Tags        []string         `json:"tags"`        // æ ‡ç­¾
    Methods     []MethodMetadata `json:"methods"`     // æ–¹æ³•åˆ—è¡¨
    RegisteredAt time.Time       `json:"registeredAt"` // æ³¨å†Œæ—¶é—´
    LastSeen    time.Time        `json:"lastSeen"`    // æœ€åæ´»è·ƒæ—¶é—´
}

// MethodMetadata æ–¹æ³•å…ƒæ•°æ®
type MethodMetadata struct {
    Name        string             `json:"name"`        // æ–¹æ³•åç§°
    Description string             `json:"description"` // æ–¹æ³•æè¿°
    Params      []ParameterMetadata `json:"params"`     // å‚æ•°åˆ—è¡¨
    Returns     []ReturnMetadata   `json:"returns"`    // è¿”å›å€¼åˆ—è¡¨
    Example     *ExampleMetadata   `json:"example"`    // ç¤ºä¾‹
    Tags        []string           `json:"tags"`       // æ ‡ç­¾
    Deprecated bool               `json:"deprecated"` // æ˜¯å¦åºŸå¼ƒ
}

// ParameterMetadata å‚æ•°å…ƒæ•°æ®
type ParameterMetadata struct {
    Name        string `json:"name"`        // å‚æ•°å
    Type        string `json:"type"`        // ç±»å‹: string, number, boolean, array, object
    Required    bool   `json:"required"`    // æ˜¯å¦å¿…å¡«
    Description string `json:"description"` // æè¿°
    Default     any    `json:"default"`     // é»˜è®¤å€¼
}

// ReturnMetadata è¿”å›å€¼å…ƒæ•°æ®
type ReturnMetadata struct {
    Name        string `json:"name"`        // å­—æ®µå
    Type        string `json:"type"`        // ç±»å‹
    Description string `json:"description"` // æè¿°
}

// ExampleMetadata ç¤ºä¾‹å…ƒæ•°æ®
type ExampleMetadata struct {
    Input       map[string]any `json:"input"`       // è¾“å…¥ç¤ºä¾‹
    Output      map[string]any `json:"output"`      // è¾“å‡ºç¤ºä¾‹
    Description string         `json:"description"` // è¯´æ˜
}
```

### æœåŠ¡çŠ¶æ€

```go
// ServiceStatus æœåŠ¡çŠ¶æ€
type ServiceStatus struct {
    Name        string    `json:"name"`     // æœåŠ¡åç§°
    Online      bool      `json:"online"`   // æ˜¯å¦åœ¨çº¿
    LastSeen    time.Time `json:"lastSeen"` // æœ€åæ´»è·ƒæ—¶é—´
    Version     string    `json:"version"`  // ç‰ˆæœ¬
}

// ServiceEvent æœåŠ¡äº‹ä»¶
type ServiceEvent struct {
    Type      string    `json:"type"`      // online, offline, registered, updated
    Service   string    `json:"service"`   // æœåŠ¡å
    Timestamp time.Time `json:"timestamp"` // æ—¶é—´æˆ³
    Data      any       `json:"data"`      // äº‹ä»¶æ•°æ®
}
```

---

## API è®¾è®¡

### SDK ç«¯å…ƒæ•°æ®æ³¨å†Œ

æœåŠ¡é€šè¿‡ NATS å‘é€æ³¨å†Œæ¶ˆæ¯ï¼ŒService Manager è®¢é˜…å¹¶å­˜å‚¨åˆ° SQLiteï¼š

```go
// æœåŠ¡ç«¯ SDK æ–°å¢æ–¹æ³•
type Service struct {
    // ... ç°æœ‰å­—æ®µ
    metadata      *ServiceMetadata
    heartbeatSub  *nats.Subscription
}

// RegisterMetadata æ³¨å†ŒæœåŠ¡å…ƒæ•°æ®
// ä¼šè‡ªåŠ¨å‘é€æ³¨å†Œæ¶ˆæ¯åˆ° $LL.register.<service_name>
func (s *Service) RegisterMetadata(metadata *ServiceMetadata) error

// RegisterMethod æ³¨å†Œæ–¹æ³•åŠå…ƒæ•°æ®
func (s *Service) RegisterMethod(
    name string,
    handler func(map[string]interface{}) (interface{}, error),
    metadata *MethodMetadata,
) error

// startHeartbeat å¯åŠ¨å¿ƒè·³ (å†…éƒ¨æ–¹æ³•ï¼ŒService.Start() è‡ªåŠ¨è°ƒç”¨)
func (s *Service) startHeartbeat() {
    // æ¯ 30 ç§’å‘é€å¿ƒè·³æ¶ˆæ¯åˆ° $LL.heartbeat.<service_name>
}
```

### Web Console REST API

```
GET    /api/services                    # è·å–æ‰€æœ‰æœåŠ¡åˆ—è¡¨
GET    /api/services/:name              # è·å–æœåŠ¡è¯¦æƒ…
GET    /api/services/:name/methods      # è·å–æœåŠ¡çš„æ–¹æ³•åˆ—è¡¨
GET    /api/services/:name/methods/:method # è·å–æ–¹æ³•è¯¦æƒ…

GET    /api/status                      # è·å–æ‰€æœ‰æœåŠ¡çŠ¶æ€
GET    /api/status/:name                # è·å–æŒ‡å®šæœåŠ¡çŠ¶æ€

GET    /api/events                      # è·å–äº‹ä»¶å†å²

POST   /api/call                        # è°ƒç”¨ RPC æ–¹æ³•
{
    "service": "demo-service",
    "method": "add",
    "params": {"a": 10, "b": 20}
}

POST   /api/auth/login                  # ç™»å½•
{
    "username": "admin",
    "password": "password"
}
```

### WebSocket API

```
WS /api/ws                              # WebSocket è¿æ¥

// å®¢æˆ·ç«¯è®¢é˜…
{
    "action": "subscribe",
    "channels": ["services", "status", "events"]
}

// æœåŠ¡äº‹ä»¶æ¨é€
{
    "channel": "services",
    "event": {
        "type": "online",
        "service": "demo-service",
        "timestamp": "2025-12-24T10:00:00Z"
    }
}

// çŠ¶æ€æ›´æ–°æ¨é€
{
    "channel": "status",
    "event": {
        "service": "demo-service",
        "online": true,
        "lastSeen": "2025-12-24T10:00:00Z"
    }
}
```

---

## Web æ§åˆ¶å°é¡µé¢è®¾è®¡

### 1. æœåŠ¡åˆ—è¡¨é¡µ (`/services`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” æœç´¢æœåŠ¡...    [å…¨éƒ¨] [åœ¨çº¿] [ç¦»çº¿]        [åˆ·æ–°]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŸ¢ demo-serviceâ”‚  â”‚ ğŸ”´ user-serviceâ”‚  â”‚ ğŸŸ¢ order-svc   â”‚ â”‚
â”‚  â”‚ v1.0.0         â”‚  â”‚ v2.1.0         â”‚  â”‚ v1.2.0         â”‚ â”‚
â”‚  â”‚ 5 methods      â”‚  â”‚ 3 methods      â”‚  â”‚ 8 methods      â”‚ â”‚
â”‚  â”‚ æ¼”ç¤ºæœåŠ¡        â”‚  â”‚ ç”¨æˆ·æœåŠ¡        â”‚  â”‚ è®¢å•æœåŠ¡        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ï¼š**
- æœåŠ¡å¡ç‰‡å±•ç¤ºï¼ˆåç§°ã€ç‰ˆæœ¬ã€çŠ¶æ€ã€æ–¹æ³•æ•°ã€æè¿°ï¼‰
- æœç´¢å’Œè¿‡æ»¤ï¼ˆæŒ‰åç§°ã€æ ‡ç­¾ã€çŠ¶æ€ï¼‰
- å®æ—¶çŠ¶æ€æ›´æ–°ï¼ˆWebSocketï¼‰

### 2. æœåŠ¡è¯¦æƒ…é¡µ (`/services/:name`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›                                                       â”‚
â”‚  ğŸŸ¢ demo-service v1.0.0                                      â”‚
â”‚  æ¼”ç¤ºæœåŠ¡ï¼Œç”¨äºå±•ç¤º RPC è°ƒç”¨åŠŸèƒ½                               â”‚
â”‚  ä½œè€…: LiteHomeLab  æ ‡ç­¾: [demo] [example]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºæœ¬ä¿¡æ¯                                                     â”‚
â”‚  â€¢ ç‰ˆæœ¬: v1.0.0    â€¢ æ³¨å†Œæ—¶é—´: 2025-12-24 10:00              â”‚
â”‚  â€¢ æœ€åæ´»è·ƒ: åˆšåˆš    â€¢ æ–¹æ³•æ•°: 5                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–¹æ³•åˆ—è¡¨ (5)                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ add        ä¸¤æ•°ç›¸åŠ                       [è°ƒè¯•] [è¯¦æƒ…]    â”‚ â”‚
â”‚  â”‚ subtract  ä¸¤æ•°ç›¸å‡                      [è°ƒè¯•] [è¯¦æƒ…]    â”‚ â”‚
â”‚  â”‚ multiply  ä¸¤æ•°ç›¸ä¹˜                      [è°ƒè¯•] [è¯¦æƒ…]    â”‚ â”‚
â”‚  â”‚ divide    ä¸¤æ•°ç›¸é™¤                      [è°ƒè¯•] [è¯¦æƒ…]    â”‚ â”‚
â”‚  â”‚ getInfo  è·å–æœåŠ¡ä¿¡æ¯                    [è°ƒè¯•] [è¯¦æƒ…]    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœ¨çº¿å†å²                                                     â”‚
â”‚  ğŸ“Š [å›¾è¡¨]                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ–¹æ³•è¯¦æƒ…é¡µ (`/services/:name/methods/:method`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›åˆ° demo-service                                       â”‚
â”‚  add - ä¸¤æ•°ç›¸åŠ                                                â”‚
â”‚  æ ‡ç­¾: [math] [basic]                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ å‚æ•°                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ a (number, å¿…å¡«) - ç¬¬ä¸€ä¸ªåŠ æ•°                             â”‚ â”‚
â”‚  â”‚ b (number, å¿…å¡«) - ç¬¬äºŒä¸ªåŠ æ•°                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¤ è¿”å›å€¼                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ result (number) - è®¡ç®—ç»“æœ                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ ç¤ºä¾‹                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¾“å…¥: {"a": 10, "b": 20}                                 â”‚ â”‚
â”‚  â”‚ è¾“å‡º: {"result": 30}                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”§ [ç«‹å³è°ƒè¯•]                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. è°ƒè¯•æ§åˆ¶å° (`/debug` æˆ–å†…åµŒåœ¨æ–¹æ³•è¯¦æƒ…é¡µ)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RPC è°ƒè¯•æ§åˆ¶å°                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡: [demo-service â–¼]  æ–¹æ³•: [add â–¼]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‚æ•°è¾“å…¥ (æ ¹æ®å…ƒæ•°æ®è‡ªåŠ¨ç”Ÿæˆè¡¨å•)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ a (number) *: [        ]                                â”‚ â”‚
â”‚  â”‚ b (number) *: [        ]                                â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚ [åŠ è½½ç¤ºä¾‹] [æ¸…ç©º]                         [è°ƒç”¨ â–¼]      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è°ƒç”¨ç»“æœ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ… æˆåŠŸ (è€—æ—¶: 15ms)                                     â”‚ â”‚
â”‚  â”‚ {                                                       â”‚ â”‚
â”‚  â”‚   "result": 30                                          â”‚ â”‚
â”‚  â”‚ }                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è°ƒç”¨å†å²                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2025-12-24 10:30  add({"a":10,"b":20})  âœ… 30           â”‚ â”‚
â”‚  â”‚ 2025-12-24 10:29  add({"a":5,"b":3})    âœ… 8            â”‚ â”‚
â”‚  â”‚ 2025-12-24 10:28  add({"a":1,"b":2})    âœ… 3            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. ç›‘æ§é¢æ¿ (`/dashboard`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ç›‘æ§é¢æ¿                                  [è‡ªåŠ¨åˆ·æ–°: ON] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ€»æœåŠ¡æ•°      â”‚  â”‚ åœ¨çº¿æœåŠ¡      â”‚  â”‚ ç¦»çº¿æœåŠ¡      â”‚   â”‚
â”‚  â”‚      12       â”‚  â”‚       10      â”‚  â”‚       2       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœåŠ¡å¥åº·åº¦å›¾è¡¨                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“ˆ [æŠ˜çº¿å›¾] 24å°æ—¶åœ¨çº¿ç‡è¶‹åŠ¿                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è°ƒç”¨ç»Ÿè®¡                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æ€»è°ƒç”¨: 1,234  æˆåŠŸ: 1,200  å¤±è´¥: 34  æˆåŠŸç‡: 97.2%     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6. äº‹ä»¶æµ (`/events`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¡ äº‹ä»¶æµ                                   [è‡ªåŠ¨æ»šåŠ¨: ON] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¿‡æ»¤: [å…¨éƒ¨ â–¼] [æœç´¢...]                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 10:30:15 ğŸŸ¢ demo-service ä¸Šçº¿                            â”‚ â”‚
â”‚  â”‚ 10:30:10 ğŸ”´ user-service ä¸‹çº¿                            â”‚ â”‚
â”‚  â”‚ 10:29:45 ğŸ“ demo-service.add æ–¹æ³•æ›´æ–°                    â”‚ â”‚
â”‚  â”‚ 10:29:30 âœ… order-service æ–°æ³¨å†Œ                         â”‚ â”‚
â”‚  â”‚ 10:29:15 ğŸ”” ç³»ç»Ÿé€šçŸ¥: NATS é‡è¿æˆåŠŸ                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7. ç™»å½•é¡µ (`/login`)

**å¸ƒå±€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LightLink æœåŠ¡ç®¡ç†å¹³å°                    â”‚
â”‚                                                              â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                        â”‚  Logo    â”‚                          â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ç”¨æˆ·å: [_____________________]                         â”‚ â”‚
â”‚  â”‚  å¯† ç :  [_____________________]                         â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚                  [ç™»å½•]                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## è®¤è¯ä¸å®‰å…¨

### JWT è®¤è¯æµç¨‹

```
1. ç”¨æˆ·ç™»å½• (POST /api/auth/login)
   â†“
2. éªŒè¯ç”¨æˆ·åå¯†ç 
   â†“
3. ç”Ÿæˆ JWT Token (æœ‰æ•ˆæœŸ 24h)
   â†“
4. è¿”å› Token ç»™å®¢æˆ·ç«¯
   â†“
5. å®¢æˆ·ç«¯åç»­è¯·æ±‚æºå¸¦ Token (Authorization: Bearer <token>)
   â†“
6. æœåŠ¡ç«¯éªŒè¯ Token
```

### ç”¨æˆ·é…ç½®

```yaml
# deploy/console/users.yaml
users:
  - username: admin
    password: $2a$10$...  # bcrypt hash
    role: admin
  - username: viewer
    password: $2a$10$...
    role: viewer
```

### æƒé™æ§åˆ¶

| è§’è‰² | æŸ¥çœ‹æœåŠ¡ | æŸ¥çœ‹å…ƒæ•°æ® | è°ƒè¯•è°ƒç”¨ | ä¿®æ”¹å…ƒæ•°æ® |
|------|---------|-----------|---------|-----------|
| admin | âœ… | âœ… | âœ… | âœ… |
| viewer | âœ… | âœ… | âŒ | âŒ |

---

## SQLite æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“è¡¨ç»“æ„

```sql
-- æœåŠ¡è¡¨
CREATE TABLE services (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE,           -- æœåŠ¡åç§°
    version TEXT,                         -- æœåŠ¡ç‰ˆæœ¬
    description TEXT,                     -- æœåŠ¡æè¿°
    author TEXT,                          -- ä½œè€…
    tags TEXT,                            -- æ ‡ç­¾ (JSON æ•°ç»„)
    registered_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- æ–¹æ³•è¡¨
CREATE TABLE methods (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    service_id INTEGER NOT NULL,         -- å…³è” services.id
    name TEXT NOT NULL,                   -- æ–¹æ³•åç§°
    description TEXT,                     -- æ–¹æ³•æè¿°
    params TEXT,                          -- å‚æ•° (JSON æ•°ç»„)
    returns TEXT,                         -- è¿”å›å€¼ (JSON æ•°ç»„)
    example TEXT,                         -- ç¤ºä¾‹ (JSON)
    tags TEXT,                            -- æ ‡ç­¾ (JSON æ•°ç»„)
    deprecated BOOLEAN DEFAULT 0,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE,
    UNIQUE(service_id, name)
);

-- æœåŠ¡çŠ¶æ€è¡¨
CREATE TABLE service_status (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    service_id INTEGER NOT NULL,         -- å…³è” services.id
    online BOOLEAN NOT NULL DEFAULT 0,    -- æ˜¯å¦åœ¨çº¿
    last_seen DATETIME,                   -- æœ€åæ´»è·ƒæ—¶é—´
    version TEXT,                         -- å½“å‰ç‰ˆæœ¬
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE
);

-- æœåŠ¡çŠ¶æ€å†å²è¡¨ (ç”¨äºå›¾è¡¨å±•ç¤º)
CREATE TABLE service_status_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    service_id INTEGER NOT NULL,         -- å…³è” services.id
    online BOOLEAN NOT NULL,              -- åœ¨çº¿çŠ¶æ€
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE
);

-- äº‹ä»¶è¡¨
CREATE TABLE events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    type TEXT NOT NULL,                   -- äº‹ä»¶ç±»å‹: online, offline, registered, updated, called
    service TEXT,                         -- æœåŠ¡å
    method TEXT,                          -- æ–¹æ³•å (å¯é€‰)
    data TEXT,                            -- äº‹ä»¶æ•°æ® (JSON)
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- è°ƒç”¨å†å²è¡¨
CREATE TABLE call_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    service_id INTEGER NOT NULL,         -- å…³è” services.id
    method_id INTEGER NOT NULL,           -- å…³è” methods.id
    service_name TEXT NOT NULL,           -- å†—ä½™å­—æ®µï¼Œæ–¹ä¾¿æŸ¥è¯¢
    method_name TEXT NOT NULL,            -- å†—ä½™å­—æ®µï¼Œæ–¹ä¾¿æŸ¥è¯¢
    input TEXT,                           -- è¾“å…¥å‚æ•° (JSON)
    output TEXT,                          -- è¾“å‡ºç»“æœ (JSON)
    success BOOLEAN NOT NULL,             -- æ˜¯å¦æˆåŠŸ
    error TEXT,                           -- é”™è¯¯ä¿¡æ¯
    duration_ms INTEGER,                  -- è€—æ—¶ (æ¯«ç§’)
    called_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (service_id) REFERENCES services(id) ON DELETE CASCADE,
    FOREIGN KEY (method_id) REFERENCES methods(id) ON DELETE CASCADE
);

-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT NOT NULL UNIQUE,
    password_hash TEXT NOT NULL,          -- bcrypt hash
    role TEXT NOT NULL DEFAULT 'viewer',  -- admin, viewer
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ç´¢å¼•
CREATE INDEX idx_service_status_service_id ON service_status(service_id);
CREATE INDEX idx_service_status_history_service_id ON service_status_history(service_id);
CREATE INDEX idx_service_status_history_timestamp ON service_status_history(timestamp);
CREATE INDEX idx_events_type ON events(type);
CREATE INDEX idx_events_timestamp ON events(timestamp);
CREATE INDEX idx_call_history_service_id ON call_history(service_id);
CREATE INDEX idx_call_history_called_at ON call_history(called_at);
```

### æ•°æ®è®¿é—®å±‚ (Go)

```go
// console/server/storage/db.go
package storage

import (
    "database/sql"
    _ "github.com/mattn/go-sqlite3"
    "encoding/json"
)

type Database struct {
    db *sql.DB
}

func NewDatabase(path string) (*Database, error) {
    db, err := sql.Open("sqlite3", path)
    if err != nil {
        return nil, err
    }

    // å¯ç”¨å¤–é”®çº¦æŸ
    db.Exec("PRAGMA foreign_keys = ON")

    d := &Database{db: db}
    if err := d.init(); err != nil {
        return nil, err
    }

    return d, nil
}

func (d *Database) init() error {
    // åˆ›å»ºæ‰€æœ‰è¡¨
    schema := `
    CREATE TABLE IF NOT EXISTS services (...);
    CREATE TABLE IF NOT EXISTS methods (...);
    CREATE TABLE IF NOT EXISTS service_status (...);
    CREATE TABLE IF NOT EXISTS service_status_history (...);
    CREATE TABLE IF NOT EXISTS events (...);
    CREATE TABLE IF NOT EXISTS call_history (...);
    CREATE TABLE IF NOT EXISTS users (...);
    `
    _, err := d.db.Exec(schema)
    return err
}

// æœåŠ¡æ“ä½œ
func (d *Database) SaveService(meta *ServiceMetadata) error
func (d *Database) GetService(name string) (*ServiceMetadata, error)
func (d *Database) ListServices() ([]*ServiceMetadata, error)
func (d *Database) DeleteService(name string) error

// æ–¹æ³•æ“ä½œ
func (d *Database) SaveMethod(serviceID int64, meta *MethodMetadata) error
func (d *Database) GetMethods(serviceName string) ([]*MethodMetadata, error)

// çŠ¶æ€æ“ä½œ
func (d *Database) UpdateServiceStatus(name string, online bool, version string) error
func (d *Database) GetServiceStatus(name string) (*ServiceStatus, error)
func (d *Database) ListServiceStatus() ([]*ServiceStatus, error)

// äº‹ä»¶æ“ä½œ
func (d *Database) SaveEvent(event *ServiceEvent) error
func (d *Database) ListEvents(limit, offset int) ([]*ServiceEvent, error)

// è°ƒç”¨å†å²
func (d *Database) SaveCall(call *CallRecord) error
func (d *Database) GetCallHistory(serviceName string, limit int) ([]*CallRecord, error)

// ç”¨æˆ·æ“ä½œ
func (d *Database) GetUser(username string) (*User, error)
func (d *Database) ValidateUser(username, password string) (*User, error)
```

### NATS æ¶ˆæ¯è®¾è®¡

æœåŠ¡é€šè¿‡ NATS å‘é€æ³¨å†Œå’Œå¿ƒè·³æ¶ˆæ¯ï¼ŒService Manager è®¢é˜…å¹¶å†™å…¥ SQLiteï¼š

```go
// æœåŠ¡æ³¨å†Œæ¶ˆæ¯
// Subject: $LL.register.<service_name>
type RegisterMessage struct {
    Service    string           `json:"service"`
    Version    string           `json:"version"`
    Metadata   ServiceMetadata  `json:"metadata"`
    Timestamp  time.Time        `json:"timestamp"`
}

// å¿ƒè·³æ¶ˆæ¯
// Subject: $LL.heartbeat.<service_name>
type HeartbeatMessage struct {
    Service   string    `json:"service"`
    Version   string    `json:"version"`
    Timestamp time.Time `json:"timestamp"`
}
```

---

## å®æ–½è®¡åˆ’

### Phase 1: å…ƒæ•°æ®ç³»ç»Ÿ (3-4å¤©)
- [ ] è®¾è®¡å¹¶å®ç°å…ƒæ•°æ®ç»“æ„ (`sdk/go/types/metadata.go`)
- [ ] ä¿®æ”¹ `Service` æ”¯æŒå…ƒæ•°æ®æ³¨å†Œå’Œå‘é€ (`sdk/go/service/metadata.go`)
- [ ] å®ç°å¿ƒè·³å‘é€æœºåˆ¶ (`sdk/go/service/heartbeat.go`)
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

### Phase 2: æœåŠ¡ç›‘æ§ (2-3å¤©)
- [ ] å®ç° `ServiceMonitor` ç›‘å¬ NATS æ¶ˆæ¯ (`console/server/manager/monitor.go`)
- [ ] å®ç°æ³¨å†Œæ¶ˆæ¯å¤„ç†å™¨ (`console/server/manager/registry.go`)
- [ ] å®ç°å¿ƒè·³æ£€æµ‹æœºåˆ¶ (`console/server/manager/heartbeat.go`)
- [ ] SQLite æ•°æ®åº“å±‚ (`console/server/storage/`)

### Phase 3: Web åç«¯ (3-4å¤©)
- [ ] REST API å®ç° (`console/server/api/`)
- [ ] WebSocket Hub (`console/server/ws/`)
- [ ] RPC è°ƒç”¨ä»£ç† (`console/server/proxy/`)
- [ ] JWT è®¤è¯ä¸­é—´ä»¶ (`console/server/auth/`)
- [ ] é›†æˆæµ‹è¯•

### Phase 4: Web å‰ç«¯ (5-7å¤©)
- [ ] é¡¹ç›®åˆå§‹åŒ– (Vue 3 + Vite + Element Plus)
- [ ] ç™»å½•é¡µé¢
- [ ] æœåŠ¡åˆ—è¡¨é¡µ
- [ ] æœåŠ¡è¯¦æƒ…é¡µ
- [ ] æ–¹æ³•è¯¦æƒ…é¡µ
- [ ] è°ƒè¯•æ§åˆ¶å°
- [ ] ç›‘æ§é¢æ¿
- [ ] äº‹ä»¶æµ

### Phase 5: SDK é›†æˆ (1-2å¤©)
- [ ] æ›´æ–° `service.Service` API
- [ ] æ›´æ–°ç¤ºä¾‹ä»£ç å±•ç¤ºå…ƒæ•°æ®æ³¨å†Œ
- [ ] ç¼–å†™ä½¿ç”¨æ–‡æ¡£

### Phase 6: æµ‹è¯•ä¸ä¼˜åŒ– (2-3å¤©)
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„
- [ ] éƒ¨ç½²é…ç½®

---

## ç›®å½•ç»“æ„

```
light_link/
â”œâ”€â”€ sdk/go/
â”‚   â”œâ”€â”€ client/          # ç°æœ‰å®¢æˆ·ç«¯ä»£ç 
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ service.go           # ç°æœ‰æœåŠ¡ä»£ç 
â”‚   â”‚   â”œâ”€â”€ metadata.go          # æ–°å¢: å…ƒæ•°æ®å®šä¹‰å’Œå‘é€
â”‚   â”‚   â””â”€â”€ heartbeat.go         # æ–°å¢: å¿ƒè·³å‘é€
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ types.go             # ç°æœ‰ç±»å‹
â”‚       â””â”€â”€ metadata.go          # æ–°å¢: å…ƒæ•°æ®ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ console/               # æ–°å¢: Web æ§åˆ¶å°
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ main.go              # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ api/                 # REST API å¤„ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ handler.go       # è¯·æ±‚å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ routes.go        # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ws/                  # WebSocket
â”‚   â”‚   â”‚   â””â”€â”€ hub.go           # WebSocket Hub
â”‚   â”‚   â”œâ”€â”€ proxy/               # RPC è°ƒç”¨ä»£ç†
â”‚   â”‚   â”‚   â””â”€â”€ caller.go        # RPC è°ƒç”¨å™¨
â”‚   â”‚   â”œâ”€â”€ auth/                # è®¤è¯
â”‚   â”‚   â”‚   â””â”€â”€ jwt.go           # JWT ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ manager/             # æ–°å¢: æœåŠ¡ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ monitor.go       # ç›‘å¬ NATS æ¶ˆæ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ registry.go      # æœåŠ¡æ³¨å†Œå¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ heartbeat.go     # å¿ƒè·³æ£€æµ‹
â”‚   â”‚   â””â”€â”€ storage/             # æ–°å¢: æ•°æ®å­˜å‚¨å±‚
â”‚   â”‚       â”œâ”€â”€ db.go            # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”‚       â”œâ”€â”€ service.go       # æœåŠ¡ CRUD
â”‚   â”‚       â”œâ”€â”€ method.go        # æ–¹æ³• CRUD
â”‚   â”‚       â”œâ”€â”€ status.go        # çŠ¶æ€ CRUD
â”‚   â”‚       â”œâ”€â”€ event.go         # äº‹ä»¶ CRUD
â”‚   â”‚       â”œâ”€â”€ call.go          # è°ƒç”¨å†å² CRUD
â”‚   â”‚       â””â”€â”€ user.go          # ç”¨æˆ· CRUD
â”‚   â”œâ”€â”€ web/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/             # API å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ views/           # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ router/          # è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ stores/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ data/                    # SQLite æ•°æ®åº“ç›®å½• (è¿è¡Œæ—¶ç”Ÿæˆ)
â”‚   â”‚   â””â”€â”€ light_link.db
â”‚   â””â”€â”€ deploy/
â”‚       â”œâ”€â”€ console.conf         # æ§åˆ¶å°æœåŠ¡é…ç½®
â”‚       â””â”€â”€ schema.sql           # æ•°æ®åº“ schema (å¯é€‰ï¼Œä»£ç å†…å»º)
â”‚
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ with-metadata/           # æ–°å¢: å¸¦å…ƒæ•°æ®çš„ç¤ºä¾‹
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ service-management-platform.md    # æœ¬æ–‡æ¡£
    â””â”€â”€ api-reference.md                  # API æ–‡æ¡£
```

---

## ä½¿ç”¨ç¤ºä¾‹

### æœåŠ¡ç«¯æ³¨å†Œå…ƒæ•°æ®

æœåŠ¡å¯åŠ¨æ—¶è‡ªåŠ¨å‘é€æ³¨å†Œæ¶ˆæ¯åˆ° NATSï¼ŒService Manager ç›‘å¬å¹¶å†™å…¥ SQLiteï¼š

```go
package main

import (
    "github.com/LiteHomeLab/light_link/sdk/go/service"
    "github.com/LiteHomeLab/light_link/sdk/go/types"
)

func main() {
    // åˆ›å»ºæœåŠ¡
    svc := service.New("demo-service", nc)

    // å®šä¹‰æ–¹æ³•å…ƒæ•°æ®
    addMetadata := &types.MethodMetadata{
        Name:        "add",
        Description: "ä¸¤æ•°ç›¸åŠ ",
        Params: []types.ParameterMetadata{
            {
                Name:     "a",
                Type:     "number",
                Required: true,
            },
            {
                Name:     "b",
                Type:     "number",
                Required: true,
            },
        },
        Returns: []types.ReturnMetadata{
            {
                Name: "result",
                Type: "number",
            },
        },
        Example: &types.ExampleMetadata{
            Input:  map[string]any{"a": 10, "b": 20},
            Output: map[string]any{"result": 30},
        },
        Tags: []string{"math", "basic"},
    }

    // æ³¨å†Œæ–¹æ³•åŠå…ƒæ•°æ®
    svc.RegisterMethod("add", add, addMetadata)

    // æ³¨å†ŒæœåŠ¡å…ƒæ•°æ® (ä¼šè‡ªåŠ¨å‘é€æ³¨å†Œæ¶ˆæ¯åˆ° NATS)
    svc.RegisterMetadata(&types.ServiceMetadata{
        Name:        "demo-service",
        Version:     "v1.0.0",
        Description: "æ¼”ç¤ºæœåŠ¡",
        Author:      "LiteHomeLab",
        Tags:        []string{"demo", "example"},
    })

    // å¯åŠ¨æœåŠ¡ (ä¼šè‡ªåŠ¨å¼€å§‹å‘é€å¿ƒè·³)
    svc.Start()
}
```

### æœåŠ¡ç«¯å‘é€çš„æ¶ˆæ¯

æœåŠ¡å¯åŠ¨åä¼šè‡ªåŠ¨å‘ NATS å‘é€ä»¥ä¸‹æ¶ˆæ¯ï¼š

```go
// æ³¨å†Œæ¶ˆæ¯ (Subject: $LL.register.demo-service)
{
    "service": "demo-service",
    "version": "v1.0.0",
    "metadata": {
        "name": "demo-service",
        "version": "v1.0.0",
        "description": "æ¼”ç¤ºæœåŠ¡",
        "methods": [...]
    },
    "timestamp": "2025-12-24T10:00:00Z"
}

// å¿ƒè·³æ¶ˆæ¯ (Subject: $LL.heartbeat.demo-service, æ¯30ç§’ä¸€æ¬¡)
{
    "service": "demo-service",
    "version": "v1.0.0",
    "timestamp": "2025-12-24T10:00:30Z"
}
```

---

## é…ç½®æ–‡ä»¶

### æ§åˆ¶å°é…ç½® (`console/console.yaml`)

```yaml
server:
  host: "0.0.0.0"
  port: 8080

nats:
  url: "nats://localhost:4222"
  tls:
    enabled: true
    cert: "deploy/nats/tls/client-cert.pem"
    key: "deploy/nats/tls/client-key.pem"
    ca: "deploy/nats/tls/ca.pem"

# SQLite æ•°æ®åº“
database:
  path: "data/light_link.db"

# JWT è®¤è¯
jwt:
  secret: "your-secret-key"
  expiry: 24h

# å¿ƒè·³æ£€æµ‹
heartbeat:
  interval: 30s      # å¿ƒè·³é—´éš”
  timeout: 90s       # è¶…æ—¶åˆ¤å®šç¦»çº¿

# é»˜è®¤ç®¡ç†å‘˜è´¦æˆ· (é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨åˆ›å»º)
admin:
  username: "admin"
  password: "admin123"  # å»ºè®®é¦–æ¬¡ç™»å½•åä¿®æ”¹
```

---

## éƒ¨ç½²

### å¯åŠ¨é¡ºåº

```bash
# 1. å¯åŠ¨ NATS
nats-server -config deploy/nats/nats-server.conf

# 2. å¯åŠ¨æœåŠ¡ (å¸¦å…ƒæ•°æ®æ³¨å†Œ)
# æœåŠ¡å¯åŠ¨åä¼šè‡ªåŠ¨å‘é€æ³¨å†Œæ¶ˆæ¯åˆ° NATS
go run examples/with-metadata/main.go

# 3. å¯åŠ¨ Web æ§åˆ¶å°
# é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»º SQLite æ•°æ®åº“å’Œé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·
cd console/server && go run main.go

# 4. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd console/web && npm run dev
```

### ç”Ÿäº§éƒ¨ç½²

```bash
# 1. æ„å»ºå‰ç«¯
cd console/web && npm run build

# 2. åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p console/data

# 3. å¯åŠ¨æ§åˆ¶å° (å†…ç½®é™æ€æ–‡ä»¶)
cd console/server
go build -o console.exe main.go
./console.exe -config console/deploy/console.conf

# 4. ä½¿ç”¨ systemd/supervisor ç®¡ç†è¿›ç¨‹ (Linux)
# æˆ–ä½¿ç”¨ Windows æœåŠ¡ç®¡ç†å™¨ (Windows)
```

### æ•°æ®åº“å¤‡ä»½

```bash
# SQLite æ•°æ®åº“å¤‡ä»½
cp console/data/light_link.db backup/light_link_$(date +%Y%m%d).db
```

---

## æ€»ç»“

è¿™ä¸ªè®¾è®¡æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„æœåŠ¡ç®¡ç†å¹³å°è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š

1. **å…ƒæ•°æ®ç³»ç»Ÿ** - æœåŠ¡å’Œæ–¹æ³•çš„å®Œæ•´æè¿°ï¼Œé€šè¿‡ NATS æ¶ˆæ¯è‡ªåŠ¨æ³¨å†Œ
2. **æœåŠ¡ç›‘æ§** - åŸºäºå¿ƒè·³çš„å®æ—¶çŠ¶æ€è¿½è¸ªå’Œå¥åº·æ£€æŸ¥
3. **SQLite å­˜å‚¨** - æŒä¹…åŒ–å­˜å‚¨å…ƒæ•°æ®ã€çŠ¶æ€ã€äº‹ä»¶å’Œè°ƒç”¨å†å²
4. **Web æ§åˆ¶å°** - å¯è§†åŒ–ç®¡ç†ç•Œé¢ (Vue 3 + Element Plus)
5. **è°ƒè¯•å·¥å…·** - åœ¨çº¿è°ƒç”¨å’Œæµ‹è¯•
6. **è®¤è¯å®‰å…¨** - JWT è®¤è¯å’Œæƒé™æ§åˆ¶

### æ¶æ„ä¼˜åŠ¿

| æ–¹é¢ | è¯´æ˜ |
|------|------|
| **NATS èŒè´£** | ä»…è´Ÿè´£æ¶ˆæ¯ä¼ é€’ï¼Œä¸æ‰¿æ‹…æŒä¹…åŒ– |
| **SQLite èŒè´£** | æŒä¹…åŒ–å­˜å‚¨ï¼Œæ•°æ®å¯é ï¼Œæ˜“äºå¤‡ä»½ |
| **æœåŠ¡å‘ç°** | åŸºäº NATS ä¸»é¢˜çš„æ¾è€¦åˆè®¾è®¡ |
| **çŠ¶æ€ç›‘æ§** | åŸºäºå¿ƒè·³çš„ä¸»åŠ¨æ£€æµ‹æœºåˆ¶ |
| **å¯æ‰©å±•æ€§** | æœåŠ¡åªéœ€å‘é€æ¶ˆæ¯ï¼Œå¹³å°è‡ªåŠ¨åŒæ­¥ |

æŒ‰ç…§å®æ–½è®¡åˆ’åˆ†é˜¶æ®µå¼€å‘ï¼Œæ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œæµ‹è¯•å’Œæäº¤ï¼Œç¡®ä¿é¡¹ç›®ç¨³æ­¥æ¨è¿›ã€‚
